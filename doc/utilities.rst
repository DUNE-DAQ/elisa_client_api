Utilities
=========

elisa_get
---------
Usage: ::

  elisa_get [options] args

Options: ::

  -h, --help            show this help message and exit
  --version             print information about program name, version, etc
  -v LEVEL, --verbose=LEVEL
                        sets the verbosity level [0-4]
  -s SERVER, --server=SERVER
                        URL of the EliSA REST server ( i.e.
                        https://elisa.cern.ch or
                        http://elisatest.cern.ch:8080). If not specified, the
                        mainEliSA server in P1 or GPN depending on user
                        location.
  -o SSO, --sso-credential=SSO
                        path to a COOKIE file with the user credentials, as
                        generated by the CERN SSO cookie tool (http://linux.we
                        b.cern.ch/linux/docs/cernssocookie.shtml). MANDATORY
                        when interacting with the GPN EliSA instance.
  -c USERNAME:PASSWORD, --ldap-credential=USERNAME:PASSWORD
                        user credential in the form USERNAME:PASSWORD or
                        USERNAME. If only the username is provided, the
                        password will be asked interactively.
  -i ID, --id=ID        message unique ID
  -u USER, --username=USER
                        message user name
  -a AUTHOR, --author=AUTHOR
                        message author. If the author string is missing the
                        author is evinced by user credential. N.B. space
                        handling works both as: -a Jhon\ Do or -a "Jhon Do"
  -j SUBJECT, --subject=SUBJECT
                        message subject
  -y TYPE, --type=TYPE  message type.
  -e SYSTEMS, --systems-affected=SYSTEMS
                        message systems affected.
  -p OPTIONS, --options=OPTIONS
                        option value in a key-value form (i.e. -o "Trigger
                        Area=Trigger Group"). Inner options can be expressed
                        with a '.' notation between parent and inner option
                        name: -o "Trigger Area.Trigger Group=VALUE". This
                        option can be used multiple times.
  -b BODY, --body=BODY  string with the message body.
  -x STATUS, --status=STATUS
                        message status (closed or open). Default value: open.
  -f FROM, --date-from=FROM
                        initial date of the search. Format: DD/MM/YYYY
                        HH:MM:ss.
  -t TO, --date-to=TO   end date of the search. Format: DD/MM/YYYY HH:MM:ss.
  -n Nm, --interval=Nm  time interval. Current Server implementation only
                        support month interval. Format: NumberUnit: i.e. 3m =
                        3 months, 12m = 12 months, etc. Could be evolved to
                        support different time units (7 days = 7d, 3 weeks =
                        3w). If not specified, the search is done on the last
                        3 months.
  -l COUNT, --limit=COUNT
                        maximum number of messages retrieved. By default 10.
  -m PATH, --attachment-path=PATH
                        path to download the attachments to. If this option is
                        not specified, the attachments are not downloaded. If
                        a value is not provided for this option, the
                        attachments are stored in the current path


elisa_insert
------------
Usage: ::

  elisa_insert [options] args

Options: ::

  -h, --help            show this help message and exit
  --version             print information about program name, version, etc
  -v LEVEL, --verbose=LEVEL
                        sets the verbosity level [0-4]
  -s SERVER, --server=SERVER
                        URL of the EliSA REST server ( i.e.
                        https://elisa.cern.ch or
                        http://elisatest.cern.ch:8080). If not specified, the
                        mainEliSA server in P1 or GPN depending on user
                        location.
  -o SSO, --sso-credential=SSO
                        path to a COOKIE file with the user credentials, as
                        generated by the CERN SSO cookie tool (http://linux.we
                        b.cern.ch/linux/docs/cernssocookie.shtml). MANDATORY
                        when interacting with the GPN EliSA instance.
  -c USERNAME:PASSWORD, --ldap-credential=USERNAME:PASSWORD
                        user credential in the form USERNAME:PASSWORD or
                        USERNAME. If only the username is provided, the
                        password will be asked interactively.
  -a AUTHOR, --author=AUTHOR
                        message author. If the author string is missing the
                        author is evinced by user credential. N.B. space
                        handling works both as: -a Jhon\ Do or -a "Jhon Do"
  -j SUBJECT, --subject=SUBJECT
                        message subject
  -y TYPE, --type=TYPE  message type.
  -e SYSTEMS, --systems-affected=SYSTEMS
                        message systems affected.
  -p OPTIONS, --options=OPTIONS
                        option value in a key-value form (i.e. -o "Trigger
                        Area=Trigger Group"). Inner options can be expressed
                        with a '.' notation between parent and inner option
                        name: -o "Trigger Area.Trigger Group=VALUE". This
                        option can be used multiple times.
  -b BODY, --body=BODY  string with the message body.
  -z BODY, --body-file=BODY
                        path to a file with a text representation of the
                        message body.
  -x STATUS, --status=STATUS
                        message status (closed or open). Default value: open.
  -m PATH, --attachment-file=PATH
                        path to a file to be attached to the messages. This
                        option can be used multiple times.


elisa_reply
-----------
Usage: ::

  elisa_reply [options] args

Options: ::

  -h, --help            show this help message and exit
  --version             print information about program name, version, etc
  -v LEVEL, --verbose=LEVEL
                        sets the verbosity level [0-4]
  -s SERVER, --server=SERVER
                        URL of the EliSA REST server ( i.e.
                        https://elisa.cern.ch or
                        http://elisatest.cern.ch:8080). If not specified, the
                        mainEliSA server in P1 or GPN depending on user
                        location.
  -o SSO, --sso-credential=SSO
                        path to a COOKIE file with the user credentials, as
                        generated by the CERN SSO cookie tool (http://linux.we
                        b.cern.ch/linux/docs/cernssocookie.shtml). MANDATORY
                        when interacting with the GPN EliSA instance.
  -c USERNAME:PASSWORD, --ldap-credential=USERNAME:PASSWORD
                        user credential in the form USERNAME:PASSWORD or
                        USERNAME. If only the username is provided, the
                        password will be asked interactively.
  -i ID, --id=ID        message unique ID
  -a AUTHOR, --author=AUTHOR
                        message author. If the author string is missing the
                        author is evinced by user credential. N.B. space
                        handling works both as: -a Jhon\ Do or -a "Jhon Do"
  -e SYSTEMS, --systems-affected=SYSTEMS
                        message systems affected.
  -p OPTIONS, --options=OPTIONS
                        option value in a key-value form (i.e. -o "Trigger
                        Area=Trigger Group"). Inner options can be expressed
                        with a '.' notation between parent and inner option
                        name: -o "Trigger Area.Trigger Group=VALUE". This
                        option can be used multiple times.
  -b BODY, --body=BODY  string with the message body.
  -z BODY, --body-file=BODY
                        path to a file with a text representation of the
                        message body.
  -x STATUS, --status=STATUS
                        message status (closed or open). Default value: open.
  -m PATH, --attachment-file=PATH
                        path to a file to be attached to the messages. This
                        option can be used multiple times.


elisa_update
------------
Usage: ::

  elisa_update [options] args

Options: ::

  -h, --help            show this help message and exit
  --version             print information about program name, version, etc
  -v LEVEL, --verbose=LEVEL
                        sets the verbosity level [0-4]
  -s SERVER, --server=SERVER
                        URL of the EliSA REST server ( i.e.
                        https://elisa.cern.ch or
                        http://elisatest.cern.ch:8080). If not specified, the
                        mainEliSA server in P1 or GPN depending on user
                        location.
  -o SSO, --sso-credential=SSO
                        path to a COOKIE file with the user credentials, as
                        generated by the CERN SSO cookie tool (http://linux.we
                        b.cern.ch/linux/docs/cernssocookie.shtml). MANDATORY
                        when interacting with the GPN EliSA instance.
  -c USERNAME:PASSWORD, --ldap-credential=USERNAME:PASSWORD
                        user credential in the form USERNAME:PASSWORD or
                        USERNAME. If only the username is provided, the
                        password will be asked interactively.
  -i ID, --id=ID        message unique ID
  -b BODY, --body=BODY  string with the message body.
  -z BODY, --body-file=BODY
                        path to a file with a text representation of the
                        message body.
  -m PATH, --attachment-file=PATH
                        path to a file to be attached to the messages. This
                        option can be used multiple times.


elisa_config
------------
Usage: ::

  elisa_config [options] args

Options: ::

  -h, --help            show this help message and exit
  --version             print information about program name, version, etc
  -v LEVEL, --verbose=LEVEL
                        sets the verbosity level [0-4]
  -s SERVER, --server=SERVER
                        URL of the EliSA REST server ( i.e.
                        https://elisa.cern.ch or
                        http://elisatest.cern.ch:8080). If not specified, the
                        mainEliSA server in P1 or GPN depending on user
                        location.
  -o SSO, --sso-credential=SSO
                        path to a COOKIE file with the user credentials, as
                        generated by the CERN SSO cookie tool (http://linux.we
                        b.cern.ch/linux/docs/cernssocookie.shtml). MANDATORY
                        when interacting with the GPN EliSA instance.
  -c USERNAME:PASSWORD, --ldap-credential=USERNAME:PASSWORD
                        user credential in the form USERNAME:PASSWORD or
                        USERNAME. If only the username is provided, the
                        password will be asked interactively.
  -y TYPE, --type=TYPE  message type.


examples
--------
First of all, source the latest TDAQ release. 

By default, the utilities connect to the REST server running on pc-atd-elisa.cern.ch, so the -s or --server option does not need to be specified. What you need to provide however, is the SSO credentials used for user authentication. Provided you have a valid kerberos token, the SSO credentials can be created with the CERN SSO cookie tool:
cern-get-sso-cookie --krb -u https://pc-atd-elisa.cern.ch/elisa.api/api -o ~/private/ssocookie.txt

For further information on the tool, check this link http://linux.web.cern.ch/linux/docs/cernssocookie.shtml

**elisa_insert** ::

  elisa_insert -o ~/private/ssocookie.txt -a "Raul" -j "Testing elisa_insert" -y "Trigger" -e "SCT, CSC, Pixel, DAQ" -p "Trigger_Area=Trigger Group" -p "Trigger_Area.Trigger_Group=MinBiass" -p "Trigger_Area.Trigger_Group=Calo" -b "Regression test of utility elisa_insert" -x "closed" -v 4
  elisa_insert -o ~/private/ssocookie.txt -a "Raul" -j "Testing elisa_insert with attachment" -y "Run Control" -e "Cryo, Other, RPC, DSS" -p "RunControl_MessageType=problem" -b "Regression test of utility elisa_insert with attachment" -x "open" -m /afs/cern.ch/user/r/rmurillo/public/barcelona.jpg -v 4

**elisa_reply** ::

  elisa_reply -o ~/private/ssocookie.txt -i 133036  -a "Raul"  -e "SCT, CSC, Pixel, DAQ"  -b "Regression test of utility elisa_reply" -x "closed" -v 4
  elisa_reply -o ~/private/ssocookie.txt -i 133037 -a "Raul" -e "Pixel, CSC"  -b "Regression test of utility elisa_reply with attachment" -x "open" -m /afs/cern.ch/user/r/rmurillo/public/barcelona.jpg -v 4

**elisa_update** ::

  elisa_update -o ~/private/ssocookie.txt -i 133036 -b "Regression test of utility elisa_update" -v 4
  elisa_update -o ~/private/ssocookie.txt -i 133037 -b "Regression test of utility elisa_update with attachment" -m /afs/cern.ch/user/r/rmurillo/public/barcelona.jpg -v 4

**elisa_get** ::

  elisa_get -o ~/private/ssocookie.txt -i 133045 -v 4
  elisa_get -o ~/private/ssocookie.txt  -v 4 -a "Alina Corso Radu" -l 10 -j "Summary" -e "DAQ"

**elisa_config** ::

  elisa_config -o ~/private/ssocookie.txt -v 4
  elisa_config -o ~/private/ssocookie.txt -y Trigger -v 4
  elisa_config -o ~/private/ssocookie.txt -y Online -v 4